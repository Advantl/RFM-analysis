# RFM-analysis
"RFM-анализ клиентской базы аптечной сети"

## About Data
Набор данных предоставлен образовательной платформой Simulative в рамках Курса-симулятора «Аналитик данных» (ООО «АЙТИ РЕЗЮМЕ») https://simulative.ru/data-analyst.  
Датасет представляет собой реальные исторические данные о продажах сети из 8 региональных аптек, расположенных в различных районах города. Данные представлены за период с 2021-07-13 по 2022-06-09 включительно и состоят из 8 колонкок и 38486 строк. Вся необходимая для работы информация о транзакциях по бонусной системе содержится в таблице _bonuscheques_.  

| Column        | Description                        | Data Type          | 
| :------------ |:---------------------------------- |:------------------:|
| datetime      | Дата и время совершения транзакции |timestamp    |
| shop          | Название аптеки                    |varchar(20)  |
| card          | Номер бонусной карты               |varchar(100) |
| bonus_earned  | Количество начисленных бонусов     |int4         |
| bonus_spent   | Количество потраченных бонусов     |int4         |
| summ          | Сумма чека                         |int4         |
| summ_with_disc| Сумма чека с учетом скидок и списаний бонусов |int4 |
| doc_id        | Номер документа                     |varchar(100) |

## Project Background


## Executive Summary  

RFM Segmentation Results.  

| rfm_categories        | min_recency | max_recency | min_frequency | max_frequency | mean_monetary | cnt |
|-----------------------|-------------|-------------|---------------|---------------|---------------|-----|
| Champions             | 1           | 186         | 4             | 13            | 6996          | 900 |
| Cannot Lose Them      | 188         | 332         | 1             | 12            | 4181          | 197 |
| Loyal                 | 1           | 187         | 2             | 10            | 3898          | 398 |
| Potential Loyalist    | 1           | 185         | 2             | 11            | 1769          | 507 |
| Promising             | 1           | 187         | 1             | 3             | 1541          | 1736|
| At Risk               | 188         | 327         | 2             | 3             | 1350          | 266 |
| Hibernating Customers | 188         | 333         | 1             | 1             | 881           | 955 |
| New Customers         | 1           | 187         | 1             | 1             | 414           | 731 |


## Insights Deep-Dive

## Интерпретация сегментов и следующий шаг

| Сегмент              | Значение для бизнеса                     | Бизнес-вопросы                                                                 | Маркетинг / CRM                                                                 |
|-----------------------|------------------------------------------|---------------------------------------------------------------------------------|----------------------------------------------------------------------------------|
| **Champions** (333, 233) <br> Совсем недавно покупали, делают это часто, приносят наибольшую ценность (высокий *Monetary*). | Лучшие клиенты, «золотой фонд».            | Как удержать самых ценных клиентов? <br> Можем ли увеличить их пожизненную ценность (LTV)? | Персональные бонусы, VIP-программы, ранний доступ к акциям, реферальные программы. |
| **Loyal** (332, 331, 223, 323) <br> Часто покупают, но не всегда недавно или не всегда с высоким чеком. | Надёжная база клиентов.                    | Как закрепить лояльность и повысить средний чек?                                 | Кросс-селл, апселл, клуб постоянных клиентов, скидки на пакетные покупки.          |
| **Potential Loyalist** (322, 232, 231) <br> Недавно начали покупать, проявляют интерес, имеют потенциал стать постоянными. | Целевая группа для nurture-кампаний.       | Как превратить их в лояльных? <br> Есть ли барьеры для частых покупок?            | Триггерные рассылки, welcome-программы, персонализированные рекомендации.          |
| **New Customers** (311, 211) <br> Недавно совершили первую покупку, но пока без частоты и большой ценности. | Клиентов данного сегмента важно перевести в категорию лояльных. | Как вовлечь новых клиентов, чтобы они вернулись? | Приветственные бонусы, onboarding-кампании, push/email с напоминаниями. |
| **Promising** (221, 321, 313, 312, 222, 213, 212) <br> Покупали недавно, но нечасто и не на большие суммы. | Клиенты с низкой ценностью, но у которых есть шанс развиться. | Стоит ли тратить маркетинг-бюджет на удержание? | Недорогие акции, массовые рассылки, предложение скидки для повторной покупки. |
| **At Risk** (131, 122, 121) <br> Раньше покупали хорошо, но уже давно не возвращались. | Потеря ценных клиентов. | Почему ушли? Как вернуть тех, кто раньше покупал часто/много? | Персональные предложения, скидки на любимые товары, реактивационные кампании. |
| **Cannot Lose Them** (133, 132, 113, 123) <br> Когда-то были «Champions», но давно не покупали. | Очень важные клиенты, риск потерять лучших. | Почему пропали ценные клиенты? Как вернуть их быстрее всего? | Сильные персональные стимулы (спец. предложения, call-центр, премиальные скидки). |
| **Hibernating** (112, 111) <br> Давно не покупали, низкая частота и сумма | Наименее ценные клиенты. | Нужно ли вообще тратить бюджет на этих клиентов? | Дешёвые массовые каналы (email-рассылки), напоминания, push, но с ограничением затрат. |

## Структура проекта  
* [Exploratory Data Analysis](https://github.com/Advantl/RFM-analysis/blob/main/rfm_eda.ipynb)  
*	[Пошаговая разработка SQL-скрипта с комментариями](https://github.com/Advantl/RFM-analysis/blob/main/sql_script_development.ipynb)   
*	[Итоговый SQL-скрипт.](https://github.com/Advantl/RFM-analysis/blob/main/RFM_analysis_sql_script.sql)   

## Tech stack 
SQL + Python
  
